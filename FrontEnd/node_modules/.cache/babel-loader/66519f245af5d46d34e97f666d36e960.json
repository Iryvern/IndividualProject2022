{"ast":null,"code":"import _defineProperty from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\"};_this.handleLogIn=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var headers,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers={\"Content-type\":\"application/json\"};//Need to be more secure\n_context.next=3;return axios.post('http://127.0.0.1:8080/login',{username:_this.state.username,password:_this.state.password},{headers:headers});case 3:res=_context.sent;if(res.data!==false){localStorage.setItem(\"token\",res.data[\"access_token\"]);localStorage.setItem(\"username\",_this.state.username);window.location=\"/\";}else{console.log(\"Could not log in\");}case 5:case\"end\":return _context.stop();}}},_callee);}));_this.handleUserInput=function(e){var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"LogIn\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"Username\",type:\"text\",placeholder:\"Username\",required:true,name:\"username\",value:this.state.username,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"Password\",type:\"password\",placeholder:\"Password\",required:true,name:\"password\",value:this.state.password,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleLogIn,children:\"Log In\"})})]});}}]);return Login;}(Component);export default Login;","map":{"version":3,"names":["React","Component","axios","Login","state","username","password","handleLogIn","headers","post","res","data","localStorage","setItem","window","location","console","log","handleUserInput","e","name","target","value","setState"],"sources":["C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/src/Components/Login.js"],"sourcesContent":["import React, { Component} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass Login extends Component {\r\n\tstate = { \r\n\t\tusername: \"\",\r\n\t\tpassword: \"\",};\r\n\r\n\thandleLogIn = async () => {\r\n\t\tconst headers = {\"Content-type\":\"application/json\"}//Need to be more secure\r\n\t\tconst res = await axios.post('http://127.0.0.1:8080/login', { username: this.state.username , password: this.state.password},{headers:headers});\r\n\t\tif(res.data!==false){\r\n\t\t\tlocalStorage.setItem(\"token\",res.data[\"access_token\"]);\r\n\t\t\tlocalStorage.setItem(\"username\",this.state.username);\r\n\t\t\twindow.location = \"/\";\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.log(\"Could not log in\")\r\n\t\t}\r\n\t};\r\n\t\r\n\thandleUserInput  = (e) => {\r\n\t\tconst name = e.target.name;\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t\t}\r\n\r\n\trender()  {\r\n\t\treturn (\r\n\t\t\t<main className=\"LogIn\">\r\n\t\t\t\t<h1>Log In</h1>\r\n\t\t\t\t<p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"Input\">\r\n\t\t\t\t\t<input className=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<button onClick={this.handleLogIn}>Log In</button>\r\n\t\t\t\t</p>\r\n\t\t\t</main>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"2lCAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAgC,OAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,2FAEMC,M,uTACLC,K,CAAQ,CACPC,QAAQ,CAAE,EADH,CAEPC,QAAQ,CAAE,EAFH,C,OAIRC,W,wEAAc,qJACPC,OADO,CACG,CAAC,eAAe,kBAAhB,CADH,CACsC;AADtC,sBAEKN,MAAK,CAACO,IAAN,CAAW,6BAAX,CAA0C,CAAEJ,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAAvB,CAAkCC,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QAAvD,CAA1C,CAA2G,CAACE,OAAO,CAACA,OAAT,CAA3G,CAFL,QAEPE,GAFO,eAGb,GAAGA,GAAG,CAACC,IAAJ,GAAW,KAAd,CAAoB,CACnBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6BH,GAAG,CAACC,IAAJ,CAAS,cAAT,CAA7B,EACAC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAgC,MAAKT,KAAL,CAAWC,QAA3C,EACAS,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACA,CAJD,IAKI,CACHC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACA,CAVY,sD,SAadC,e,CAAmB,SAACC,CAAD,CAAO,CACzB,GAAMC,KAAI,CAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB,CACA,GAAME,MAAK,CAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB,CACA,MAAKC,QAAL,oBAAgBH,IAAhB,CAAuBE,KAAvB,GACC,C,uDAEF,iBAAU,CACT,mBACC,cAAM,SAAS,CAAC,OAAhB,wBACC,8BADD,cAEC,UAAG,SAAS,CAAC,OAAb,uBACC,cAAQ,SAAS,CAAC,UAAlB,CACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,UAFb,CAGC,QAAQ,KAHT,CAIC,IAAI,CAAC,UAJN,CAKC,KAAK,CAAE,KAAKlB,KAAL,CAAWC,QALnB,CAMC,QAAQ,CAAE,KAAKa,eANhB,EADD,EAFD,cAYC,UAAG,SAAS,CAAC,OAAb,uBACC,cAAO,SAAS,CAAC,UAAjB,CACC,IAAI,CAAC,UADN,CAEC,WAAW,CAAC,UAFb,CAGC,QAAQ,KAHT,CAIC,IAAI,CAAC,UAJN,CAKC,KAAK,CAAE,KAAKd,KAAL,CAAWE,QALnB,CAMC,QAAQ,CAAE,KAAKY,eANhB,EADD,EAZD,cAsBC,gCACC,eAAQ,OAAO,CAAE,KAAKX,WAAtB,oBADD,EAtBD,GADD,CA4BA,C,mBArDkBN,S,EAwDpB,cAAeE,MAAf"},"metadata":{},"sourceType":"module"}