{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var token=sessionStorage.getItem(\"token\");var name=sessionStorage.getItem(\"username\");var headers={\"Content-type\":\"application/json\",\"Authorization\":\"Bearer \"+token};var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",email:\"\",opassword:\"\",password:\"\",rpassword:\"\"};_this.handleUserInput=function(e){var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value));};_this.handleChangeUsername=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('http://127.0.0.1:5000/change/username',{o_username:name,username:_this.state.username},{headers:headers});case 2:result=_context.sent;console.log(result);case 4:case\"end\":return _context.stop();}}},_callee);}));_this.handleChangeEmail=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('http://127.0.0.1:5000/change/email',{username:name,email:_this.state.email},{headers:headers});case 2:result=_context2.sent;console.log(result);case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleChangePassword=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(_this.state.password===_this.state.rpassword)){_context3.next=7;break;}_context3.next=3;return axios.post('http://127.0.0.1:5000/change/password',{username:name,password:_this.state.password,opassword:_this.state.opassword},{headers:headers});case 3:result=_context3.sent;console.log(result);_context3.next=8;break;case 7:console.log(\"Passwords don't match\");case 8:case\"end\":return _context3.stop();}}},_callee3);}));return _this;}_createClass(Profile,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"Profile\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"Username\",type:\"text\",placeholder:\"Username\",name:\"username\",value:this.state.username,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleChangeUsername,children:\"Change Username\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"Email\",type:\"text\",placeholder:\"Email\",name:\"email\",value:this.state.email,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleChangeEmail,children:\"Change Email\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"OPassword\",type:\"text\",placeholder:\"Old Password\",name:\"opassword\",value:this.state.opassword,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"Password\",type:\"text\",placeholder:\"New Password\",name:\"password\",value:this.state.password,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"RPassword\",type:\"text\",placeholder:\"Repeat New Password\",name:\"rpassword\",value:this.state.rpassword,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleChangePassword,children:\"Change Password\"})})]});}}]);return Profile;}(Component);export default Profile;","map":{"version":3,"names":["React","Component","axios","token","sessionStorage","getItem","name","headers","Profile","state","username","email","opassword","password","rpassword","handleUserInput","e","target","value","setState","handleChangeUsername","post","o_username","result","console","log","handleChangeEmail","handleChangePassword"],"sources":["C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/src/Components/Profile.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst token = sessionStorage.getItem(\"token\");\r\nconst name = sessionStorage.getItem(\"username\");\r\nconst headers= {\"Content-type\":\"application/json\",\"Authorization\":\"Bearer \"+token}\r\n\r\nclass Profile extends Component {\r\n    state = { username: \"\", email:\"\", opassword:\"\",password:\"\",rpassword:\"\"};\r\n\r\n    handleUserInput  = (e) => {\r\n\t\tconst name = e.target.name;\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t\t}\r\n\r\n    handleChangeUsername =  async () => {\r\n\t\tconst result = await axios.post('http://127.0.0.1:5000/change/username', { o_username: name, username: this.state.username},{headers:headers});\r\n\t\tconsole.log(result)\r\n    }\r\n\r\n    handleChangeEmail =  async () => {\r\n\t\tconst result = await axios.post('http://127.0.0.1:5000/change/email', { username: name , email: this.state.email},{headers:headers});\r\n\t\tconsole.log(result)\r\n    }\r\n\r\n    handleChangePassword =  async () => {\r\n        if(this.state.password === this.state.rpassword){\r\n\t\t\tconst result = await axios.post('http://127.0.0.1:5000/change/password', { username: name , password: this.state.password, opassword: this.state.opassword},{headers:headers});\r\n\t\t    console.log(result)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.log(\"Passwords don't match\")\r\n\t\t}\r\n    }\r\n\r\n    render() \r\n    {\r\n        return(\r\n            <main className=\"Profile\">\r\n                <h1>Profile</h1>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p>\r\n\t\t\t\t\t<button onClick={this.handleChangeUsername}>Change Username</button>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Email\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p>\r\n\t\t\t\t\t<button onClick={this.handleChangeEmail}>Change Email</button>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"OPassword\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Old Password\"\r\n\t\t\t\t\t\tname=\"opassword\"\r\n\t\t\t\t\t\tvalue={this.state.opassword}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Password\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"New Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"RPassword\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Repeat New Password\"\r\n\t\t\t\t\t\tname=\"rpassword\"\r\n\t\t\t\t\t\tvalue={this.state.rpassword}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p>\r\n\t\t\t\t\t<button onClick={this.handleChangePassword}>Change Password</button>\r\n\t\t\t\t</p>\r\n                \r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}