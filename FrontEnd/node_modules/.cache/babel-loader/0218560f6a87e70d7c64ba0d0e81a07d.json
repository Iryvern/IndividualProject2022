{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kirill\\\\Desktop\\\\Individual Project\\\\IndividualProject2022\\\\FrontEnd\\\\src\\\\Components\\\\Login.js\";\nimport React, { Component, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.handleLogIn = async () => {\n      const headers = {\n        \"Content-type\": \"application/json\"\n      };\n      const res = await axios.post('http://127.0.0.1:5000/login', {\n        username: this.state.username,\n        password: this.state.password\n      }, {\n        headers: headers\n      });\n\n      if (res.data !== false) {\n        sessionStorage.setItem(\"token\", res.data[\"access_token\"]);\n        sessionStorage.setItem(\"username\", this.state.username);\n        window.location.reload(false);\n      } else {\n        console.log(\"Could not log in\");\n      }\n    };\n\n    this.handleUserInput = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"LogIn\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"Username\",\n          type: \"text\",\n          placeholder: \"Username\",\n          required: true,\n          name: \"username\",\n          value: this.state.username,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"Password\",\n          type: \"password\",\n          placeholder: \"Password\",\n          required: true,\n          name: \"password\",\n          value: this.state.password,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleLogIn,\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","Component","useState","axios","Login","state","username","password","handleLogIn","headers","res","post","data","sessionStorage","setItem","window","location","reload","console","log","handleUserInput","e","name","target","value","setState","render"],"sources":["C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/src/Components/Login.js"],"sourcesContent":["import React, { Component, useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass Login extends Component {\r\n\tstate = { \r\n\t\tusername: \"\",\r\n\t\tpassword: \"\",};\r\n\r\n\thandleLogIn = async () => {\r\n\t\tconst headers = {\"Content-type\":\"application/json\"}\r\n\t\tconst res = await axios.post('http://127.0.0.1:5000/login', { username: this.state.username , password: this.state.password},{headers:headers});\r\n\t\tif(res.data!==false){\r\n\t\t\tsessionStorage.setItem(\"token\",res.data[\"access_token\"])\r\n\t\t\tsessionStorage.setItem(\"username\",this.state.username)\r\n\t\t\twindow.location.reload(false)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.log(\"Could not log in\")\r\n\t\t}\r\n\t};\r\n\t\r\n\thandleUserInput  = (e) => {\r\n\t\tconst name = e.target.name;\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t\t}\r\n\r\n\trender()  {\r\n\t\treturn (\r\n\t\t\t<main className=\"LogIn\">\r\n\t\t\t\t<h1>Log In</h1>\r\n\t\t\t\t<p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"Input\">\r\n\t\t\t\t\t<input className=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<button onClick={this.handleLogIn}>Log In</button>\r\n\t\t\t\t</p>\r\n\t\t\t</main>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;EAAA;IAAA;IAAA,KAC7BI,KAD6B,GACrB;MACPC,QAAQ,EAAE,EADH;MAEPC,QAAQ,EAAE;IAFH,CADqB;;IAAA,KAK7BC,WAL6B,GAKf,YAAY;MACzB,MAAMC,OAAO,GAAG;QAAC,gBAAe;MAAhB,CAAhB;MACA,MAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,6BAAX,EAA0C;QAAEL,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QAAvB;QAAkCC,QAAQ,EAAE,KAAKF,KAAL,CAAWE;MAAvD,CAA1C,EAA2G;QAACE,OAAO,EAACA;MAAT,CAA3G,CAAlB;;MACA,IAAGC,GAAG,CAACE,IAAJ,KAAW,KAAd,EAAoB;QACnBC,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAA+BJ,GAAG,CAACE,IAAJ,CAAS,cAAT,CAA/B;QACAC,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAkC,KAAKT,KAAL,CAAWC,QAA7C;QACAS,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;MACA,CAJD,MAKI;QACHC,OAAO,CAACC,GAAR,CAAY,kBAAZ;MACA;IACD,CAhB4B;;IAAA,KAkB7BC,eAlB6B,GAkBTC,CAAD,IAAO;MACzB,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB;MACA,MAAME,KAAK,GAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB;MACA,KAAKC,QAAL,CAAc;QAAC,CAACH,IAAD,GAAQE;MAAT,CAAd;IACC,CAtB2B;EAAA;;EAwB7BE,MAAM,GAAI;IACT,oBACC;MAAM,SAAS,EAAC,OAAhB;MAAA,wBACC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,eAEC;QAAG,SAAS,EAAC,OAAb;QAAA,uBACC;UAAQ,SAAS,EAAC,UAAlB;UACC,IAAI,EAAC,MADN;UAEC,WAAW,EAAC,UAFb;UAGC,QAAQ,MAHT;UAIC,IAAI,EAAC,UAJN;UAKC,KAAK,EAAE,KAAKrB,KAAL,CAAWC,QALnB;UAMC,QAAQ,EAAE,KAAKc;QANhB;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QAFD,eAYC;QAAG,SAAS,EAAC,OAAb;QAAA,uBACC;UAAO,SAAS,EAAC,UAAjB;UACC,IAAI,EAAC,UADN;UAEC,WAAW,EAAC,UAFb;UAGC,QAAQ,MAHT;UAIC,IAAI,EAAC,UAJN;UAKC,KAAK,EAAE,KAAKf,KAAL,CAAWE,QALnB;UAMC,QAAQ,EAAE,KAAKa;QANhB;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QAZD,eAsBC;QAAA,uBACC;UAAQ,OAAO,EAAE,KAAKZ,WAAtB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QAtBD;IAAA;MAAA;MAAA;MAAA;IAAA,QADD;EA4BA;;AArD4B;;AAwD9B,eAAeJ,KAAf"},"metadata":{},"sourceType":"module"}