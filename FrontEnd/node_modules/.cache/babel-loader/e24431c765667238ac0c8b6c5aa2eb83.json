{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kirill\\\\Desktop\\\\Individual Project\\\\IndividualProject2022\\\\FrontEnd\\\\src\\\\Components\\\\Profile.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = sessionStorage.getItem(\"token\");\nconst name = sessionStorage.getItem(\"username\");\nconst headers = {\n  \"Content-type\": \"application/json\",\n  \"Authorization\": \"Bearer \" + token\n};\n\nclass Profile extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: \"\",\n      email: \"\",\n      opassword: \"\",\n      password: \"\",\n      rpassword: \"\"\n    };\n\n    this.handleUserInput = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleChangeUsername = async () => {\n      const result = await axios.post('http://127.0.0.1:5000/change/username', {\n        ousername: name,\n        username: this.state.username\n      }, {\n        headers: headers\n      });\n      console.log(result);\n    };\n\n    this.handleChangeEmail = async () => {\n      console.log(this.state.username);\n      const result = await axios.post('http://127.0.0.1:5000/change/email', {\n        username: this.state.username,\n        email: this.state.email\n      }, {\n        headers: headers\n      });\n      console.log(result);\n    };\n\n    this.handleChangePassword = async () => {\n      if (this.state.password === this.state.rpassword) {\n        const result = await axios.post('http://127.0.0.1:5000/change/password', {\n          username: this.state.username,\n          password: this.state.password,\n          opassword: this.state.opassword\n        }, {\n          headers: headers\n        });\n        console.log(result);\n      } else {\n        console.log(\"Passwords don't match\");\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"Profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"Username\",\n          type: \"text\",\n          placeholder: \"Username\",\n          name: \"username\",\n          value: this.state.username,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleChangeUsername,\n          children: \"Change Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"Email\",\n          type: \"text\",\n          placeholder: \"Email\",\n          name: \"email\",\n          value: this.state.email,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleChangeEmail,\n          children: \"Change Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"OPassword\",\n          type: \"text\",\n          placeholder: \"Old Password\",\n          name: \"opassword\",\n          value: this.state.opassword,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"Password\",\n          type: \"text\",\n          placeholder: \"New Password\",\n          name: \"password\",\n          value: this.state.password,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"RPassword\",\n          type: \"text\",\n          placeholder: \"Repeat New Password\",\n          name: \"rpassword\",\n          value: this.state.rpassword,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleChangePassword,\n          children: \"Change Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"names":["React","Component","axios","token","sessionStorage","getItem","name","headers","Profile","state","username","email","opassword","password","rpassword","handleUserInput","e","target","value","setState","handleChangeUsername","result","post","ousername","console","log","handleChangeEmail","handleChangePassword","render"],"sources":["C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/src/Components/Profile.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst token = sessionStorage.getItem(\"token\");\r\nconst name = sessionStorage.getItem(\"username\");\r\nconst headers= {\"Content-type\":\"application/json\",\"Authorization\":\"Bearer \"+token}\r\n\r\nclass Profile extends Component {\r\n    state = { username: \"\",email:\"\",opassword:\"\",password:\"\",rpassword:\"\"};\r\n\r\n    handleUserInput  = (e) => {\r\n\t\tconst name = e.target.name;\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t\t}\r\n\r\n    handleChangeUsername =  async () => {\r\n\t\tconst result = await axios.post('http://127.0.0.1:5000/change/username', { ousername: name, username: this.state.username},{headers:headers});\r\n\t\tconsole.log(result)\r\n    }\r\n\r\n    handleChangeEmail =  async () => {\r\n\t\tconsole.log(this.state.username)\r\n\t\tconst result = await axios.post('http://127.0.0.1:5000/change/email', { username: this.state.username , email: this.state.email},{headers:headers});\r\n\t\tconsole.log(result)\r\n    }\r\n\r\n    handleChangePassword =  async () => {\r\n        if(this.state.password === this.state.rpassword){\r\n\t\t\tconst result = await axios.post('http://127.0.0.1:5000/change/password', { username: this.state.username , password: this.state.password, opassword: this.state.opassword},{headers:headers});\r\n\t\t    console.log(result)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.log(\"Passwords don't match\")\r\n\t\t}\r\n    }\r\n\r\n    render() \r\n    {\r\n        return(\r\n            <main className=\"Profile\">\r\n                <h1>Profile</h1>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p>\r\n\t\t\t\t\t<button onClick={this.handleChangeUsername}>Change Username</button>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Email\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p>\r\n\t\t\t\t\t<button onClick={this.handleChangeEmail}>Change Email</button>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"OPassword\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Old Password\"\r\n\t\t\t\t\t\tname=\"opassword\"\r\n\t\t\t\t\t\tvalue={this.state.opassword}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"Password\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"New Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p className=\"Input\">\r\n\t\t\t\t\t<input  className=\"RPassword\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Repeat New Password\"\r\n\t\t\t\t\t\tname=\"rpassword\"\r\n\t\t\t\t\t\tvalue={this.state.rpassword}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n                <p>\r\n\t\t\t\t\t<button onClick={this.handleChangePassword}>Change Password</button>\r\n\t\t\t\t</p>\r\n                \r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}