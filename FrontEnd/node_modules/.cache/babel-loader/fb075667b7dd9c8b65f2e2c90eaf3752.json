{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var queryString=window.location.search;var urlParams=new URLSearchParams(queryString);var post_id=urlParams.get('p');var Comments=/*#__PURE__*/function(_Component){_inherits(Comments,_Component);var _super=_createSuper(Comments);function Comments(){var _this;_classCallCheck(this,Comments);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={post:[],comments:[],comment:\"\"};_this.handleUserInput=function(e){var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value));};_this.getPost=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.get(\"http://127.0.0.1:8081/p-get\",{headers:{\"Content-Type\":\"application/json\"},params:{\"post_id\":post_id}}).then(function(res){_this.setState({post:res.data});console.log(_this.state.post.comments);});case 1:case\"end\":return _context.stop();}}},_callee);}));_this.handleLike=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(post_id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleComment=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(community_name){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();return _this;}_createClass(Comments,[{key:\"componentDidMount\",value:function componentDidMount(){this.getPost();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"h2\",{children:this.state.post.title}),/*#__PURE__*/_jsx(\"h2\",{children:this.state.post.creator}),/*#__PURE__*/_jsx(\"h2\",{children:this.state.post.content}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Likes: \",this.state.post.likes]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Comments: \",this.state.post.n_comments]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Date\",this.state.post.date]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleLike(\"post._id\");},children:\"Like\"})})]},\"\"),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"Input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"comment\",type:\"text\",placeholder:\"Leave a comment...\",name:\"comment\",value:this.state.comment,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleComment,children:\"Post Comment\"})})]})]});}}]);return Comments;}(Component);export default Comments;","map":{"version":3,"names":["React","Component","axios","queryString","window","location","search","urlParams","URLSearchParams","post_id","get","Comments","state","post","comments","comment","handleUserInput","e","name","target","value","setState","getPost","headers","params","then","res","data","console","log","handleLike","handleComment","community_name","title","creator","content","likes","n_comments","date"],"sources":["C:/Users/Kirill/Desktop/Individual Project/IndividualProject2022/FrontEnd/src/Components/Comments.js"],"sourcesContent":["import React, { Component} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst queryString = window.location.search;\r\nconst urlParams = new URLSearchParams(queryString);\r\nconst post_id = urlParams.get('p');\r\n\r\nclass Comments extends Component {\r\n\tstate = {post: [],\r\n    comments:[],\r\n    comment:\"\" };\r\n\r\n        \r\n    componentDidMount() {\r\n    this.getPost();\r\n    }\r\n\r\n    handleUserInput  = (e) => {\r\n\t\tconst name = e.target.name;\r\n\t\tconst value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t\t}\r\n    \r\n    getPost = async () => {\r\n\t\taxios.get(\"http://127.0.0.1:8081/p-get\", {headers: {\"Content-Type\": \"application/json\"}, params: {\"post_id\": post_id}})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ post: res.data});\r\n                console.log(this.state.post.comments);\r\n\t\t\t});\r\n\t};\r\n\r\n    handleLike = async (post_id) => {\r\n\t};\r\n\r\n    handleComment = async (community_name) => {\r\n\t\t\r\n\t};\r\n\r\n\trender()  {\r\n\t\treturn (\r\n            <>\r\n            <div className=\"post\" key={\"\"}>\r\n                <h2>{this.state.post.title}</h2>\r\n                <h2>{this.state.post.creator}</h2>\r\n                <h2>{this.state.post.content}</h2>\r\n                <h2>Likes: {this.state.post.likes}</h2>\r\n                <h2>Comments: {this.state.post.n_comments}</h2>\r\n                <h2>Date{this.state.post.date}</h2>\r\n                <p>\r\n                    <button onClick={() => this.handleLike(\"post._id\")}>Like</button>\r\n                </p>\r\n            </div>\r\n            <div>\r\n            <p className=\"Input\">\r\n\t\t\t\t\t<input className=\"comment\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Leave a comment...\"\r\n\t\t\t\t\t\tname=\"comment\"\r\n\t\t\t\t\t\tvalue={this.state.comment}\r\n\t\t\t\t\t\tonChange={this.handleUserInput}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<button onClick={this.handleComment}>Post Comment</button>\r\n\t\t\t\t</p>\r\n            </div>\r\n            </>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Comments;\r\n"],"mappings":"2lCAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAgC,OAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,YAAW,CAAGC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CACA,GAAMC,UAAS,CAAG,GAAIC,gBAAJ,CAAoBL,WAApB,CAAlB,CACA,GAAMM,QAAO,CAAGF,SAAS,CAACG,GAAV,CAAc,GAAd,CAAhB,C,GAEMC,S,mUACLC,K,CAAQ,CAACC,IAAI,CAAE,EAAP,CACLC,QAAQ,CAAC,EADJ,CAELC,OAAO,CAAC,EAFH,C,OASLC,e,CAAmB,SAACC,CAAD,CAAO,CAC5B,GAAMC,KAAI,CAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB,CACA,GAAME,MAAK,CAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB,CACA,MAAKC,QAAL,oBAAgBH,IAAhB,CAAuBE,KAAvB,GACC,C,OAECE,O,wEAAU,qIACZpB,KAAK,CAACQ,GAAN,CAAU,6BAAV,CAAyC,CAACa,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAAV,CAAgDC,MAAM,CAAE,CAAC,UAAWf,OAAZ,CAAxD,CAAzC,EACEgB,IADF,CACO,SAACC,GAAD,CAAS,CACd,MAAKL,QAAL,CAAc,CAAER,IAAI,CAAEa,GAAG,CAACC,IAAZ,CAAd,EACYC,OAAO,CAACC,GAAR,CAAY,MAAKjB,KAAL,CAAWC,IAAX,CAAgBC,QAA5B,EACZ,CAJF,EADY,sD,SAQVgB,U,6FAAa,kBAAOrB,OAAP,yK,sEAGbsB,a,6FAAgB,kBAAOC,cAAP,yK,qIArBhB,4BAAoB,CACpB,KAAKV,OAAL,GACC,C,sBAuBJ,iBAAU,iBACT,mBACU,wCACA,aAAK,SAAS,CAAC,MAAf,wBACI,oBAAK,KAAKV,KAAL,CAAWC,IAAX,CAAgBoB,KAArB,EADJ,cAEI,oBAAK,KAAKrB,KAAL,CAAWC,IAAX,CAAgBqB,OAArB,EAFJ,cAGI,oBAAK,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,OAArB,EAHJ,cAII,gCAAY,KAAKvB,KAAL,CAAWC,IAAX,CAAgBuB,KAA5B,GAJJ,cAKI,mCAAe,KAAKxB,KAAL,CAAWC,IAAX,CAAgBwB,UAA/B,GALJ,cAMI,6BAAS,KAAKzB,KAAL,CAAWC,IAAX,CAAgByB,IAAzB,GANJ,cAOI,gCACI,eAAQ,OAAO,CAAE,yBAAM,OAAI,CAACR,UAAL,CAAgB,UAAhB,CAAN,EAAjB,kBADJ,EAPJ,GAA2B,EAA3B,CADA,cAYA,oCACA,UAAG,SAAS,CAAC,OAAb,uBACP,cAAO,SAAS,CAAC,SAAjB,CACC,IAAI,CAAC,MADN,CAEC,WAAW,CAAC,oBAFb,CAGC,IAAI,CAAC,SAHN,CAIC,KAAK,CAAE,KAAKlB,KAAL,CAAWG,OAJnB,CAKC,QAAQ,CAAE,KAAKC,eALhB,EADO,EADA,cAUR,gCACC,eAAQ,OAAO,CAAE,KAAKe,aAAtB,0BADD,EAVQ,GAZA,GADV,CA6BA,C,sBA7DqB9B,S,EAgEvB,cAAeU,SAAf"},"metadata":{},"sourceType":"module"}